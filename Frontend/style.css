/* style.css - Final Version with Chat Bubbles and Avatars */

body {
    font-family: 'Nunito', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: #e9ebee;
    margin: 0;
}

/* --- 2. Phone Interface Layout --- */
.phone-frame {
    width: 390px; 
    height: 90vh; /* Responsive height based on the viewport */
    max-height: 844px; /* Caps the height to mimic a real phone */
    background: #111;
    border-radius: 40px;
    padding: 12px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
}

.phone-screen {
    width: 100%;
    height: 100%;
    background: #F8F9FA;
    border-radius: 30px;
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* --- 3. Screen States & Transitions --- */
.screen {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    box-sizing: border-box;
    text-align: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    visibility: hidden;
    position: absolute;
}

.screen.active { opacity: 1; visibility: visible; }


/* --- 4. Component Styling --- */

/* Home Screen */
#home-screen { justify-content: center; }
#mascot-home { width: 150px; margin-top: 40px; margin-bottom: 20px; }
.mode-select-btn { width: 80%; padding: 15px; font-size: 18px; font-weight: 700; margin-top: 20px; border-radius: 25px; cursor: pointer; background: #2ecc71; color: white;box-shadow: 0 4px 10px rgba(0,0,0,0.15) }

/* Header for inner screens */
header { width: 100%; display: flex; align-items: center; margin-bottom: 40px; /* Increased spacing */ flex-shrink: 0; }
.back-btn { background: none; border: none; font-size: 24px; cursor: pointer; }
header h2 { flex-grow: 1; margin: 0; text-align: center; padding-right: 30px; }

/* Roleplay Screen */
.roleplay-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; }
.roleplay-card { background: #fff; border-radius: 20px; padding: 20px 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.08); cursor: pointer; transition: transform 0.2s; }
.roleplay-card:hover { transform: translateY(-5px); }
.roleplay-card span { font-size: 40px; }
.roleplay-card p { margin: 10px 0 0 0; font-weight: 700; }

/* Chat Screen */
#chat-screen { padding: 0; justify-content: flex-end; }

/* NEW: Main AI Avatar at the top of chat */
.ai-main-avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    overflow: hidden;
    margin: 10px auto 20px auto; /* Centered with some margin */
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    flex-shrink: 0;
}
.ai-main-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}


#chat-container {
    width: 100%;
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
}
.chat-bubble {
    max-width: 75%;
    padding: 10px 15px;
    border-radius: 20px;
    margin-bottom: 10px;
    display: flex; /* For avatar inside bubble */
    align-items: flex-start; /* For avatar inside bubble */
    gap: 10px;
}
.user-bubble {
    background: #dcf8c6;
    align-self: flex-end;
    border-bottom-right-radius: 5px;
}
.ai-bubble {
    background: #fff;
    align-self: flex-start;
    border-bottom-left-radius: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

/* NEW: Avatar inside AI bubble */
.ai-bubble .bubble-avatar {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    overflow: hidden;
    flex-shrink: 0; /* Prevents avatar from shrinking */
}
.ai-bubble .bubble-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.ai-bubble .bubble-content {
    flex-grow: 1; /* Allows content to take up space */
}

/* Hide the 3 dots (thinking indicator) */
.ai-thinking {
    display: none; /* Hide the thinking bubble entirely */
}


.input-area {
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: space-around;
    background: #f0f0f0;
    flex-shrink: 0;
}
#recordButton {
    width: 70px;
    height: 70px;
    font-size: 35px;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    background-color: #2ecc71; /* Green Color */
    color: white;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
#recordButton.recording { background-color: #e74c3c; }
#language-select { font-size: 16px; border: none; padding: 5px 10px; border-radius: 15px; }